<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
<meta http-equiv="Content-Style-Type" content="text/css">
<meta name="GENERATOR" content="JustSystems Homepage Builder Version 18.0.10.0 for Windows">
<title>技術情報</title>
<link href="hpb9tm10_14.css" rel="stylesheet" type="text/css" id="hpb9tm10_14"> </head>
<body>
<table width="761" border="0" cellspacing="0" cellpadding="0" class="hpb-head" id="HPB_LAYOUT_H">
  <tbody>
    <tr>
      <td height="30" class="hpb-head-cell1"><img src="hpb_head1411.jpg" alt="だいこくネット" width="760" height="140"></td>
      <td><a href="#SKIP_LINK"><img src="c.gif" alt="本文へジャンプ" width="1" height="1" border="0"></a></td>
    </tr>
  </tbody>
</table>
<table width="760" border="0" cellpadding="0" cellspacing="0" class="hpb-main" id="HPB_LAYOUTTABLE_06">
  <tbody>
    <tr>
      <td width="150" valign="top" class="hpb-side-cell3" id="HPB_LAYOUT_LMV0">
      <table border="0" cellpadding="0" cellspacing="0" id="HPB_LINK_MENU_TABLE_140626231229" class="hpb-vmenu1">
        <tbody>
          <tr>
            <td height="1" class="hpb-vmenu1-idle1" style=""><img src="c.gif" alt="" width="1" height="1" border="0"></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#001" class="hpb-vmenu1-link1">WinPcap情報</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#002" class="hpb-vmenu1-link1">IPアドレス情報</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#003" class="hpb-vmenu1-link1">マニュアル情報</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#004" class="hpb-vmenu1-link1">メモリパフォーマンスオプションの設定</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#005" class="hpb-vmenu1-link1">クラスタ環境での利用設定</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#006" class="hpb-vmenu1-link1">共有フォルダを明示的に指定</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#007">サービス起動</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="#008">処理負荷の軽減</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1">&nbsp;</td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1"><a href="index.html" class="hpb-vmenu1-link1">ホーム</a></td>
          </tr>
          <tr>
            <td class="hpb-vmenu1-idle1">&nbsp;</td>
          </tr>
          <tr>
            <td height="1" class="hpb-vmenu1-idle1" style=""><img src="c.gif" alt="" width="1" height="1" border="0"></td>
          </tr>
        </tbody>
      </table>
      </td>
      <td valign="top" align="center" class="hpb-cnt-cell3-x" id="HPB_LAYOUT_CONTENTS"><a name="SKIP_LINK" id="SKIP_LINK"></a>
      <table width="613" border="0" align="center" cellpadding="0" cellspacing="0" class="hpb-lb-tb1">
        <tbody>
          <tr>
            <td class="hpb-lb-tb1-cell4">技術情報</td>
          </tr>
          <tr>
            <td class="hpb-lb-tb1-cell3"><br>
            <div class="hpb-lay-photo0"><a name="#001"></a><br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1">FAccLog Ultimatの動作には、「WinPcap」のインストールが必要です。下記のURLからダウンロードしてインストールしてください。</td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
                <tbody>
                  <tr>
                    <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="489" height="65">
                    <p>　<a href="http://www.winpcap.org/install/bin/WinPcap_4_1_2.exe">▼「WinPcap 4.1.2」ダウンロード</a></p>
                    <P>　<a href="http://www.winpcap.org/install/default.htm">▼WinPcapのダウンロード一覧ページ</a></P>
                    </td>
                    <td valign="top" class="hpb-dp-tb4-cell6" width="65" height="65"></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="hpb-lay-photo0"><br>
              <a name="#002"></a>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1">FAccLog Ultimateは、ipv6には対応しておりません。ipv4のみ有効にしてください。</td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
                <tbody>
                  <tr>
                    <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="526">▼対処方法については、<BR> 　　「01.Readme.txt」<BR> 　　「05.「指定したIPアドレスのアダプタ名が検出できません」の場合に.txt」<BR> 　　に記載しております。</td>
                    <td valign="top" class="hpb-dp-tb4-cell6" width="28"></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <a name="#003"></a><br>
            <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1">FAccLog Ultimate をより理解してお使いいただくための操作マニュアルです。</td>
                  </tr>
                </tbody>
              </table>
            <br>
            <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
              <tbody>
                <tr>
                  <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="486"><a href="http://cgi.geocities.jp/daikoku_yu/cgi-bin/pagecon.cgi?page=http://www.daikokunet.jp/soft/ENT_DOC/FAccLogUltimate_Vol4.pdf&amp;name=FAccLog_DOC_ULT">▼操作説明(Ultimate)</a></td>
                  <td valign="top" class="hpb-dp-tb4-cell6" width="68"></td>
                </tr>
              </tbody>
            </table>
            <div class="hpb-lay-photo0"><br>
              <a name="#004" id="#004"></a>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1">メモリパフォーマンスオプションを設定方法について</td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
                <tbody>
                  <tr>
                    <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="526">「FAcclog.ini」ファイルに下記の設定項目を記載してください。<br>
                    FAccLogを再起動後、設定が有効になります。<br>
                    ※「ライセンスキー」は、オプション購入時に連絡されたキーが入ります。<br>
                    ---記載例----------<br>
                    　MemperformanceSelect=2<br>
                    　MemperformanceUnlockCode=&quot;ライセンスキー&quot;<br>
                    ---------------------<br>
                    <br>
                    <br>
                    <br>
                    </td>
                    <td valign="top" class="hpb-dp-tb4-cell6" width="28"></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <br>
            <br>
            <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
              <tbody>
                <tr>
                  <td class="hpb-subh02-cell1"><a name="#005" id="#005">クラスタ環境での利用設定について</a></td>
                </tr>
              </tbody>
            </table>
            <br>
            <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
              <tbody>
                <tr>
                  <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="526"><br>クラスタを構成したファイルサーバでFAccLogを利用する手順<br>
<br>
  FAccLogが、クラスタの各ノード(サーバ)ごとにインストールが必要です。<br>
  ※ライセンスは、ノード(サーバ)台数に必要となります。<br>
<br>
  構成例<br>
        Serv1      「10.224.0.1」<br>
        Serv2      「10.224.0.2」<br>
        ファイルサーバ機能のクラスタIPアドレス「10.224.0.3」<br>
<br>
    1) FAccLogのIPアドレス設定方法<br>
      オプションのIPアドレス設定で、<br>
      クラスタIPアドレス(10.224.0.3)ではなく、ノード(サーバ)のIPアドレス(10.224.0.1)を指定します。<br>
<br>
    2) FAccLogの環境設定<br>
      FAccLogのフォルダ内にある「FAccLog.ini」にクラスタの有無、クラスタIPアドレスを追加します。<br>
        VipFlg=1<br>
        Vip=10.224.0.3<br>
       <br>
    3) 「ShareInfo.dat」にクラスタ管理下の共有フォルダを明示的に指定します。<br>
        クラスタ管理下の共有フォルダ（「Net Share」コマンドでアクセスポイントとならない共有フォルダ）を記載する。<br>
　　<br>
        FAccLogフォルダ内の「ShareInfo.dat」に下記の形式で共有名、及び、共有フォルダパスを追加する。<br>
        (最大64個まで)<br>
        [共有ファイル名],[共有フォルダパス]<br>
 <br>
        例)<br>
          ShareFolder,C:\ShareFilder<br>
          ShareTmp,D:\ShareTmp<br>
<br>
        FAccLogのフォルダ内にある「FAccLog.ini」にクラスタ管理下の共有フォルダを明示的に指定するオプションを有効にします。<br>
          ShareFolderInfo=1<br>
    <br>
    3) FAccLogの再起動<br>
<br>
    4) Serv2 に対しても同様に設定<br>
<br>
<br>
　※クラスタを構成したファイルサーバでFAccLogを利用する場合に必要な「FAccLog.ini」の追加項目<br>
        VipFlg=1<br>
        Vip=10.224.0.3<br>
        ShareFolderInfo=1<br>
<br>
　※クラスタを構成したファイルサーバでFAccLogを利用する場合に必要な定義ファイル<br>
　　ShareInfo.dat<br>
<br>
　※クラスタ切替を考慮したFAccLog.iniの配置場所やアプリケーションの起動方法の設計が必要です。<br>
                  <br>
                  <br>
                  </td>
                  <td valign="top" class="hpb-dp-tb4-cell6" width="28"></td>
                </tr>
              </tbody>
            </table>
            <br>
            <a name="#006" id="#006"><br>
            </a>
            <div class="hpb-lay-photo0">
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1">共有フォルダを明示的に指定する場合について</td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
                <tbody>
                  <tr>
                    <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="526"><br>  隠し共有などで、「Net Share」コマンドでアクセスポイントとなる共有名がない場合の対処<br>
<br>
  FAccLogは、アクセスポイントとなる共有名を「Net Share」コマンドで取得しているため、<br>
  「Net Share」コマンドでアクセスポイントとなる共有名が取得できない場合、「UNKOWN」となる。<br>
  下記の設定を行うことで回避が可能です。<br>
<br>
  FAccLog.iniに下記の項目を追加します。<br>
  ShareFolderInfo=1<br>
<br>
  FAccLogフォルダ内の「ShareInfo.dat」に下記の形式で共有名、及び、共有フォルダパスを追加する。<br>
  (最大64個まで)<br>
  [共有ファイル名],[共有フォルダパス]<br>
<br>
                    例 ShareName,C:\ShareFilder<br>
                    　　※Ver 1.78s の場合<br>
                    <br>
                    例 ShareName,C:\ShareFilder\<br>
                    　　※Ver 1.77s 以前の場合<br>
                    </td>
                    <td valign="top" class="hpb-dp-tb4-cell6" width="28"></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <br>
            <a name="#006" id="#006"><br>
            </a>
            <div class="hpb-lay-photo0">
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1">サービス起動について</td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
                <tbody>
                  <tr>
                    <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="543" height="812"><br>１）FAccLogのオプション設定<br>
　FAccLogUltimateのオプション設定から下記のオプション設定を行う。<br>
　　・「起動時に隠す」<br>
　　・「起動時にタスクトレイに常駐する」<br>
　　・「起動と同時に収集を開始する」<br>
　にチェックを入れ有効にする。<br>
　※事前に起動と同時にアクセス収集が行われるか動作確認をすること。<br>
<br>
２）サービス登録アプリケーション設定<br>
　「１）」のオプション設定が完了したのち、サービス登録を行う。<br>
　サービス登録アプリケーション「FAccLogServiceSet.」を起動後、下記の設定をし実行する。<br>
　<br>
　A)「プログラムの場所」にFAccLogUltimate.exeを配置した箇所を指定する。<br>
　B)「起動時のオプション」に「SC」を指定する。<br>
　C)「サービス名」にWindowsのサービスに登録されるサービス名を指定する。<br>
　D)「終了方法」に「WM_SYSCOMMAND→WM_CLOSE」を指定する。<br>
　E)「オプション設定」に「自動起動」をチェック、及び、「デスクトップとの対話を許可」にチェックする。<br>
　　※「デスクトップとの対話を許可」は、Windows Server 2008以降はチェックをしない<br>
　F) 最後に「起動・削除」で設定した内容の動作チェックを行い、<br>
　　 サービスからFAccLogUltimateが起動することを確認する。<br>
<br>
３）タスクトレイアイコンの設定<br>
　・FAccLogSmViewを任意のフォルダに展開する。<br>
　・「FAccLogSmlView.exe」のショートカットをスタートアップ配置し、起動するように設定する。<br>
　・タスクトレイのアイコンメニューでFAccLog本体が操作できることを確認する。<br>
<br>
                    </td>
                    <td valign="top" class="hpb-dp-tb4-cell6" width="11" height="812"></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <br>
            <a name="#006" id="#006"><br>
            </a>
            <div class="hpb-lay-photo0">
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1">処理負荷の軽減について</td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
                <tbody>
                  <tr>
                    <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="526"><br>1〜3の負荷軽減の対策が行えます。<br>
組み合わせてもOKです。<br>
<br>
1)<br>
  CPU負荷軽減<br>
    オプション設定の「アクセスログの書き込みのみ」を有効することによって、<br>
    GUIへ表示をせず、アクセスログの書き込みのみを行ない処理負荷の軽減を行う。<br>
<br>
2)<br>
  ログ書き込みサイズ軽減<br>
    「FAccLog.ini」に下記の項目を追加しログの書き込み量を軽減する。<br>
<br>
     MACadressFlg=0<br>
       … MACアドレスのログ書き込みを抑止する。<br>
          0 出力しない<br>
          1 出力する   [デフォルト]<br>
<br>
     SMBcmdListFlg=0<br>
       … SMBコマンド、SMB詳細のログ書き込みを抑止する。<br>
          0 出力しない [デフォルト]<br>
          1 出力する<br>
<br>
3)<br>
  デバックログの停止<br>
    「FAccLog.ini」に下記の項目を追加しデバックログの書き込みを停止する。<br>
       NonEventWriteLogFlg=1<br>
                    </td>
                    <td valign="top" class="hpb-dp-tb4-cell6" width="28"><br>
                    <a name="#006" id="#006"><br>
            </a>
            <div class="hpb-lay-photo0">
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-subh02">
                <tbody>
                  <tr>
                    <td class="hpb-subh02-cell1"></td>
                  </tr>
                </tbody>
              </table>
              <br>
              <table width="100%" border="0" cellpadding="0" cellspacing="0" class="hpb-dp-tb4">
                <tbody>
                  <tr>
                    <td align="left" valign="top" class="hpb-dp-tb4-cell5" width="526"><br>
                    <br>
                    </td>
                    <td valign="top" class="hpb-dp-tb4-cell6" width="28"></td>
                  </tr>
                </tbody>
              </table>
            </div>
            </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <br>
            <br>
            </td>
          </tr>
        </tbody>
      </table>
      </td>
    </tr>
    <tr>
      <td height="18" valign="top" class="hpb-side-cell4">&nbsp;</td>
      <td valign="top" class="hpb-cnt-cell4">&nbsp;</td>
    </tr>
  </tbody>
</table>
</body>
</html>